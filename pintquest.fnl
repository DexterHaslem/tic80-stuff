;; title:  pint quest
;; author: dmh
;; desc:   find the pub
;; script: fennel

(var t 0)
(var v 0)

(fn ani [step]
     (let [d (% step 8)]
          (+ 256 (if (> d 3) (- 7 d) d))))

(fn _G.TIC []
     (cls)
     (map)
     (set t (+ 1 t))
     (when (= 0 (% t 10))
          (set v (+ 1 v)))
     (print (.. "v = " v))
     (print (.. "f = " t) 0 9)
     (print (.. "ms = " (math.floor (time))) 0 18)
     (print (.. "unix = " (tstamp)) 0 27)
     (spr (ani v) 1 40))

;; <TILES>
;; 001:1111111111111111111111111111111111111111111111111111111111111111
;; 002:2222222222222222222222222222222222222222222222222222222222222222
;; </TILES>

;; <SPRITES>
;; 000:0000000000000000020002000000000020000002222000220022222000000000
;; 001:0000000000000000020002000000000000000000222000220022222000000000
;; 002:0000000000000000020002000000000000000000000000002222222200000000
;; 003:0000000000000000020002000000000000000000000000000222222022000022
;; </SPRITES>

;; <PALETTE>
;; 000:140c1c44243430346d4e4a4e854c30346524d04648757161597dced27d2c8595a16daa2cd2aa996dc2cadad45edeeed6
;; 001:0000ff61e6a1d6858de669f230eaff000000000000000000000000000000000000000000000000000000000000000000
;; </PALETTE>

